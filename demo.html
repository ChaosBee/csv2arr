<!DOCTYPE HTML>
<html>
<meta charset="utf-8"/>

<h3>请按F12打开浏览器控制台</h3>
<h3>Press F12 to open the console</h3>

<a href="./test.csv" >点击下载示例csv</a><br /><br /><br />

<input type="file" name="csvfile"/>
<input type="button" onclick="fileUpdate()" value="JS转换"/> 

<br /><br /><br />
<div id="resTbl"></div>

<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="build/csv2arr.js"></script>
<script>

// $("input[name=csvfile]").on('change', fileUpdate)

function fileUpdate(e) {
	const file = $("input[name=csvfile]")[0].files[0]
	console.log(file)
	csv2arr(file).then(function(arr){
		console.log( arr );
		//something to do here
		var tblStr = "<table border='1'>";
		$.each( arr, function(i, line){
			tblStr += "<tr>";
			$.each( line, function(i, cell){
				tblStr += "<td>"+cell+"</td>";
			});
			tblStr += "</tr>";
		});
		$("#resTbl").html( tblStr );
	}, function (e) {
		console.log(e)
	});
}
</script>

</html>